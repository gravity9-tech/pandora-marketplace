---
description: List and manage pandora-generated skills. Shows all skills from the pandora registry with source project info.
argument-hint: [list|clean|info <skill-name>]
allowed-tools: Read, Bash, Write
model: haiku
---

# DeepWiki Skills Command

List and manage skills generated by pandora-marketplace. This command reads the pandora registry to show which skills were generated, their source projects, and allows cleanup.

## Registry Location

```
~/.claude/skills/.pandora-registry.json
```

## Subcommands

### `/deepwiki:skills` or `/deepwiki:skills list`

List all pandora-generated skills with their source projects.

**Process:**

1. Read the registry file:
   ```bash
   cat "${HOME}/.claude/skills/.pandora-registry.json" 2>/dev/null
   ```

2. If registry doesn't exist or is empty:
   ```
   No pandora-generated skills found.

   Use /deepwiki:init to generate documentation and skills from a codebase.
   ```

3. If registry exists, display formatted table:
   ```
   Pandora-Generated Skills

   Registry: ~/.claude/skills/.pandora-registry.json

   | Skill | Source Project | Generator | Updated |
   |-------|----------------|-----------|---------|
   | pandora-overview | /Users/g9/myproject | deepwiki | 2026-01-27 |
   | pandora-architecture | /Users/g9/myproject | deepwiki | 2026-01-27 |
   | pandora-features | /Users/g9/myproject | deepwiki | 2026-01-27 |

   Total: 3 skills from 1 project(s)

   Commands:
     /deepwiki:skills info <skill-name>  - Show detailed skill info
     /deepwiki:skills clean              - Remove skills for deleted projects
     /deepwiki:skills clean <project>    - Remove skills for specific project
   ```

---

### `/deepwiki:skills info <skill-name>`

Show detailed information about a specific pandora skill.

**Process:**

1. Parse the skill name from arguments (with or without `pandora-` prefix)

2. Look up skill in registry:
   ```bash
   cat "${HOME}/.claude/skills/.pandora-registry.json"
   ```

3. Read the SKILL.md file:
   ```bash
   cat "${HOME}/.claude/skills/pandora-{skill}/SKILL.md"
   ```

4. Display detailed info:
   ```
   Skill: pandora-overview

   Source Project: /Users/g9/myproject
   Context Path: /Users/g9/myproject/wiki
   Generator: deepwiki
   Created: 2026-01-27T10:30:00Z
   Updated: 2026-01-27T10:30:00Z

   Description: System overview, technology stack, and domain glossary. Use when understanding project purpose or tech stack.

   SKILL.md Location: ~/.claude/skills/pandora-overview/SKILL.md

   Frontmatter Metadata:
     _generator: pandora-marketplace
     _source_project: /Users/g9/myproject
     _generated_at: 2026-01-27T10:30:00Z
   ```

5. If skill not found:
   ```
   Skill 'pandora-{name}' not found in registry.

   Use /deepwiki:skills list to see available skills.
   ```

---

### `/deepwiki:skills clean`

Interactively clean up skills for projects that no longer exist.

**Process:**

1. Read registry and check each skill's source project:
   ```bash
   cat "${HOME}/.claude/skills/.pandora-registry.json"
   ```

2. For each skill, check if source project exists:
   ```bash
   test -d "{source_project}" && echo "exists" || echo "missing"
   ```

3. If orphaned skills found, display them:
   ```
   Orphaned Skills (source project no longer exists)

   | Skill | Original Project |
   |-------|------------------|
   | pandora-overview | /Users/g9/deleted-project |
   | pandora-architecture | /Users/g9/deleted-project |

   These skills reference projects that no longer exist.

   To remove these skills, confirm by typing 'yes':
   ```

4. If user confirms, remove orphaned skills:
   - Delete skill directories: `rm -rf ~/.claude/skills/pandora-{name}/`
   - Update registry to remove entries
   - Update CLAUDE.md to remove skill rows (if in current project)

5. Display cleanup results:
   ```
   ✓ Cleaned up 2 orphaned skills

   Removed:
     - pandora-overview
     - pandora-architecture

   Registry updated: ~/.claude/skills/.pandora-registry.json
   ```

6. If no orphaned skills:
   ```
   No orphaned skills found. All skills reference existing projects.
   ```

---

### `/deepwiki:skills clean <project-path>`

Remove all skills generated from a specific project.

**Process:**

1. Parse project path from arguments

2. Find all skills from that project in registry:
   ```bash
   cat "${HOME}/.claude/skills/.pandora-registry.json"
   ```

3. Display skills to be removed:
   ```
   Skills from project: /Users/g9/myproject

   | Skill |
   |-------|
   | pandora-overview |
   | pandora-architecture |
   | pandora-features |

   This will remove 3 skills. Confirm by typing 'yes':
   ```

4. If user confirms:
   - Delete skill directories
   - Update registry
   - Update CLAUDE.md in current project (if applicable)

5. Display results:
   ```
   ✓ Removed 3 skills from project /Users/g9/myproject

   Registry updated: ~/.claude/skills/.pandora-registry.json
   ```

---

## Registry Schema

```json
{
  "version": "1.0",
  "skills": {
    "pandora-overview": {
      "generator": "deepwiki",
      "source_project": "/absolute/path/to/project",
      "context_path": "/absolute/path/to/wiki",
      "created_at": "2026-01-27T10:30:00Z",
      "updated_at": "2026-01-27T10:30:00Z"
    }
  }
}
```

## Example Usage

```bash
# List all pandora skills
/deepwiki:skills

# Same as above
/deepwiki:skills list

# Show info about a specific skill
/deepwiki:skills info overview
/deepwiki:skills info pandora-overview

# Clean up orphaned skills
/deepwiki:skills clean

# Remove all skills from a specific project
/deepwiki:skills clean /Users/g9/old-project
```

## Notes

- Skills are identified by the `pandora-` prefix
- The registry file tracks all pandora-generated skills
- Each SKILL.md also contains embedded metadata in frontmatter
- Cleaning skills also removes them from CLAUDE.md if in the current project
- Use this command to manage skills across multiple projects
